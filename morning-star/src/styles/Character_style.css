@import url('https://fonts.googleapis.com/css2?family=Jaini&display=swap');

/* --- ОСНОВНІ НАЛАШТУВАННЯ --- */
* { box-sizing: border-box; }

/* Скролбар (тонкий і стильний) */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #0b0909; }
::-webkit-scrollbar-thumb { background: #5e3a03; border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: #835F0A; }

html, body {
    margin: 0; padding: 0; width: 100%; min-height: 100vh;
    background-color: #0b0909; /* Темний фон */
    color: #e0e0e0;
    font-family: "Jaini", system-ui;
    overflow-x: hidden; /* Ховаємо горизонтальний скрол */
}

#root { min-height: 100vh; display: flex; flex-direction: column; }

.char-info-wrapper {
    display: flex; flex-direction: column; min-height: 100vh; width: 100%;
    /* Текстура на фоні */
    background-image: 
        radial-gradient(circle at 50% 0%, rgba(69, 43, 2, 0.15) 0%, transparent 70%),
        linear-gradient(0deg, #050404 0%, #120c08 100%);
}

.char-info-wrapper > header, .char-info-wrapper > footer { flex: 0 0 auto; }

/* --- 1. HUD ПАНЕЛЬ (Під хедером) --- */
.hud-panel {
    margin-top: 100px; /* Відступ від верхнього меню */
    padding: 15px 40px;
    display: flex; justify-content: space-between; align-items: center;
    background: rgba(18, 12, 8, 0.9);
    border-top: 1px solid #5e3a03;
    border-bottom: 1px solid #5e3a03;
    box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    z-index: 10;
}

.hud-left { display: flex; gap: 20px; align-items: center; }
.hud-avatar { width: 70px; height: 70px; border: 2px solid #835F0A; border-radius: 8px; overflow: hidden; background: #000; }
.hud-avatar img { width: 100%; height: 100%; object-fit: cover; }

.hud-info h1 { margin: 0; font-size: 36px; line-height: 1; color: #fff; text-shadow: 0 2px 4px #000; }
.hud-sub { color: #aaa; font-size: 18px; margin-bottom: 5px; }

/* XP Bar */
.hud-xp-bar {
    width: 300px; height: 20px; background: #2a1a05; border: 1px solid #5e3a03; border-radius: 4px;
    position: relative; overflow: hidden; cursor: pointer;
}
.hud-xp-fill { height: 100%; background: linear-gradient(90deg, #d32f2f, #b71c1c); transition: width 0.5s ease; }
.hud-xp-text { position: absolute; width: 100%; text-align: center; top: 0; line-height: 18px; font-size: 12px; color: #fff; text-shadow: 1px 1px 2px #000; letter-spacing: 1px; font-family: sans-serif; font-weight: bold; }

.hud-stats { display: flex; gap: 20px; align-items: center; }

/* Hexagon Stats (AC, Speed, Prof) */
.hud-stat-hex {
    width: 55px; height: 60px;
    background: #1a120b; border: 1px solid #5e3a03;
    /* Кліп-шлях для форми щита/гекса */
    clip-path: polygon(50% 0%, 100% 25%, 100% 75%, 50% 100%, 0% 75%, 0% 25%);
    display: flex; flex-direction: column; justify-content: center; align-items: center;
    cursor: pointer; transition: transform 0.2s;
}
.hud-stat-hex:hover { transform: scale(1.1); border-color: #ffc400; background: #3d2608; }
.hex-val { font-size: 22px; color: #fff; line-height: 1; font-weight: bold; }
.hex-lbl { font-size: 11px; color: #888; margin-top: 2px; }

.hud-stat-pill {
    padding: 5px 15px; background: #1a120b; border: 1px solid #5e3a03; border-radius: 20px;
    font-size: 22px; color: #fff; cursor: pointer; transition: 0.2s; display: flex; align-items: center; gap: 5px;
}
.hud-stat-pill:hover { border-color: #ffc107; background: #25180b; }

.hud-hp-block {
    display: flex; align-items: center; gap: 10px; padding: 5px 20px;
    background: linear-gradient(145deg, #3e1616, #220a0a);
    border: 1px solid #ef5350; border-radius: 8px; cursor: pointer;
    box-shadow: 0 0 10px rgba(211, 47, 47, 0.3);
}
.hud-hp-block:hover { filter: brightness(1.2); }
.hud-hp-icon { width: 28px; height: 28px; }
.hud-hp-vals { font-size: 26px; color: #fff; font-weight: bold; }
.max-hp { font-size: 18px; color: #ffcdd2; font-weight: normal; }


/* --- 2. ГОЛОВНА СІТКА (LAYOUT) --- */
.dashboard-grid {
    display: flex; /* Flex надійніший тут */
    gap: 20px;
    padding: 20px 40px;
    flex: 1; /* Розтягуємось на весь вільний простір */
    min-height: 0; /* Важливо для скролу всередині */
}

/* --- ЛІВА КОЛОНКА (Атрибути) --- */
.col-attributes {
    width: 120px;
    flex-shrink: 0;
    display: flex; flex-direction: column; gap: 10px;
    overflow-y: auto; padding-right: 5px;
}

.v-stat-card {
    background: #15100d; border: 1px solid #5e3a03; border-radius: 6px;
    height: 100px; display: flex; flex-direction: column; align-items: center; justify-content: center;
    cursor: pointer; position: relative; overflow: hidden;
    transition: all 0.2s;
}
.v-stat-card:hover { border-color: #ffc400; background: #1f1814; transform: translateX(5px); }
.v-stat-mod { font-size: 36px; color: #fff; font-weight: bold; line-height: 1; text-shadow: 0 0 5px #ffc400; }
.v-stat-val { font-size: 14px; color: #888; border: 1px solid #444; border-radius: 10px; padding: 0 8px; margin: 4px 0; background: #000; }
.v-stat-name { font-size: 12px; text-transform: uppercase; color: #aaa; letter-spacing: 1px; }
.v-stat-save-tiny { font-size: 10px; color: #666; position: absolute; bottom: 2px; }


/* --- ЦЕНТРАЛЬНА КОЛОНКА (Дія) --- */
.col-action-deck {
    flex: 1; /* Займає все вільне місце */
    display: flex; flex-direction: column; gap: 20px;
    min-width: 400px;
}

.combat-quick-row { display: flex; gap: 15px; }
.quick-stat {
    flex: 1; background: #1a120b; border: 1px solid #5e3a03; border-radius: 6px;
    height: 70px; display: flex; flex-direction: column; align-items: center; justify-content: center;
    cursor: pointer; transition: 0.2s;
}
.quick-stat:hover { border-color: #aaa; background: #251b12; }
.qs-val { font-size: 32px; color: #fff; line-height: 1; }
.qs-label { font-size: 12px; color: #888; letter-spacing: 1px; text-transform: uppercase; }

.deck-tabs-wrapper {
    flex: 1; display: flex; flex-direction: column;
    background: rgba(18, 12, 8, 0.6); border: 1px solid #5e3a03; border-radius: 8px;
    overflow: hidden;
    min-height: 400px; /* Мінімальна висота, щоб не зникало */
}

.deck-nav {
    display: flex; background: #120c08; border-bottom: 1px solid #5e3a03;
}
.deck-nav label {
    flex: 1; text-align: center; padding: 15px; font-size: 22px; color: #888; cursor: pointer; transition: 0.2s;
}
.deck-nav label:hover { color: #ccc; background: #1a1512; }

/* Tab Logic */
#deck-atk:checked ~ .deck-nav label[for="deck-atk"],
#deck-spl:checked ~ .deck-nav label[for="deck-spl"],
#deck-inv:checked ~ .deck-nav label[for="deck-inv"] {
    color: #ffc400; border-bottom: 2px solid #ffc400; background: #1f1814;
}

.deck-content { flex: 1; overflow-y: auto; padding: 20px; }
.deck-pane { display: none; }
#deck-atk:checked ~ .deck-content .pane-atk,
#deck-spl:checked ~ .deck-content .pane-spl,
#deck-inv:checked ~ .deck-content .pane-inv { display: block; }

/* Fancy Table */
.fancy-table { width: 100%; border-collapse: collapse; }
.fancy-table th { text-align: left; color: #d32f2f; font-size: 20px; padding: 10px; border-bottom: 1px solid #5e3a03; }
.fancy-table td { padding: 10px 5px; border-bottom: 1px solid rgba(94, 58, 3, 0.3); }
.table-input { background: transparent; border: none; color: #e0e0e0; font-size: 20px; font-family: inherit; width: 100%; }
.table-input:focus { outline: none; color: #ffc400; }
.table-input.center { text-align: center; }


/* --- ПРАВА КОЛОНКА (Навички) --- */
.col-skills-panel {
    width: 320px; flex-shrink: 0;
    background: rgba(18, 12, 8, 0.4); border-left: 1px solid #5e3a03;
    display: flex; flex-direction: column; 
    padding-left: 20px;
    height: 100%; overflow-y: auto;
}

.panel-header { font-size: 26px; color: #888; border-bottom: 1px solid #5e3a03; padding-bottom: 5px; margin-bottom: 10px; }

.skills-scroll-container { flex: 1; padding-right: 5px; }

.skill-strip {
    display: flex; align-items: center; justify-content: space-between;
    padding: 8px 12px; margin-bottom: 4px; border-radius: 4px;
    cursor: pointer; transition: 0.1s;
}
.skill-strip:hover { background: rgba(255, 196, 0, 0.1); }

.skill-indicator { width: 10px; height: 10px; border: 1px solid #666; transform: rotate(45deg); margin-right: 15px; }
.skill-indicator.proficient { background: #ffc400; border-color: #ffc400; box-shadow: 0 0 5px #ffc400; }

.skill-name { flex: 1; font-size: 18px; color: #ccc; }
.skill-stat-tag { font-size: 12px; color: #666; margin-left: 5px; }
.skill-val { font-size: 18px; color: #fff; font-weight: bold; }

.passives-box {
    margin-top: 20px; padding-top: 20px; border-top: 1px solid #5e3a03;
}
.passive-line { font-size: 16px; color: #aaa; margin-bottom: 8px; display: flex; align-items: center; gap: 10px; }
.pv-val { color: #fff; font-weight: bold; background: #333; padding: 2px 8px; border-radius: 4px; font-size: 14px; }


/* --- МОДАЛЬНІ ВІКНА (Калькулятори) --- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); backdrop-filter: blur(5px); display: flex; justify-content: center; align-items: center; z-index: 1000; }

/* Calculator Theme */
.modal-content.calculator-theme { background: #120c08; border: 2px solid #5e3a03; width: 420px; padding: 10px; box-shadow: 0 0 40px #000; font-family: "Jaini", system-ui; }
.calc-header { display: flex; justify-content: flex-end; padding-bottom: 10px; }
.close-btn { background: none; border: none; color: #888; font-size: 24px; cursor: pointer; }
.close-btn:hover { color: #fff; }

.calc-main-display { text-align: center; font-size: 56px; color: #fff; margin-bottom: 10px; line-height: 1; text-shadow: 0 0 15px rgba(0,0,0,0.8); }
.calc-val-accent { color: #4db6ac; } .calc-xp-accent { color: #7c4dff; }

.calc-input-screen { background: #1a1512; border: 1px solid #5e3a03; height: 60px; display: flex; align-items: center; justify-content: space-between; padding: 0 20px; font-size: 32px; margin-bottom: 20px; border-radius: 4px; }
.calc-backspace-btn { background: none; border: none; color: #888; font-size: 28px; cursor: pointer; }

.calc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; margin-bottom: 20px; }
.calc-key { height: 60px; background: #2a1a05; border: 1px solid #5e3a03; color: #e0e0e0; font-size: 26px; cursor: pointer; font-family: "Jaini", system-ui; border-radius: 4px; transition: 0.1s; }
.calc-key:hover { background: #3d2608; border-color: #ffc400; }
.calc-key:active { transform: scale(0.95); }
.calc-icon-slot { display: flex; justify-content: center; align-items: center; font-size: 24px; opacity: 0.7; pointer-events: none; }

.calc-actions-row { display: flex; gap: 10px; }
.calc-action-btn { flex: 1; height: 55px; border: none; border-radius: 4px; font-family: "Jaini", system-ui; font-size: 20px; cursor: pointer; color: #fff; text-transform: uppercase; font-weight: bold; border: 1px solid rgba(0,0,0,0.3); }
.btn-temp { background: #424242; color: #bbb; border: 1px solid #666; }
.btn-heal { background: #2e7d32; border: 1px solid #1b5e20; } 
.btn-damage { background: #c62828; border: 1px solid #b71c1c; } 
.btn-add-xp { background: #1565c0; border: 1px solid #0d47a1; } 
.btn-level-up { background: #6200ea; border: 1px solid #4a148c; box-shadow: 0 0 15px #6200ea; }
.btn-settings-toggle { width: 55px; flex: none; background: #2a1a05; border: 1px solid #5e3a03; font-size: 24px; }
.btn-settings-toggle.active { color: #ffc400; border-color: #ffc400; }

.calc-settings-drawer { max-height: 0; overflow: hidden; transition: 0.3s; background: rgba(0,0,0,0.3); }
.calc-settings-drawer.open { max-height: 120px; padding: 20px; margin-top: 10px; border-top: 1px solid #5e3a03; }
.calc-settings-grid { display: flex; gap: 20px; }
.calc-input-group { flex: 1; display: flex; flex-direction: column; }
.calc-label { font-size: 14px; color: #888; text-transform: uppercase; font-family: sans-serif; font-weight: bold; margin-bottom: 5px; }
.calc-settings-input { background: transparent; border: none; border-bottom: 1px solid #555; color: #fff; font-size: 20px; font-family: "Jaini"; width: 100%; padding-bottom: 2px; }
.calc-settings-input:focus { outline: none; border-color: #ffc400; }

/* Coin Styles */
.calc-coin-row { display: flex; gap: 15px; margin-bottom: 20px; padding: 0 10px; }
.calc-coin-btn { flex: 1; background: #1a1512; border: 1px solid #333; color: #888; padding: 10px; cursor: pointer; display: flex; flex-direction: column; align-items: center; border-radius: 4px; font-family: "Jaini"; }
.calc-coin-btn.active { background: #2a1a05; border-color: #ffc400; color: #fff; transform: translateY(-2px); }
.calc-coin-btn span { font-size: 14px; opacity: 0.7; }
.coin-pp.active { color: #e0e0e0; border-color: #e0e0e0; }
.coin-gp.active { color: #ffc107; border-color: #ffc107; }
.coin-sp.active { color: #bdbdbd; border-color: #bdbdbd; }
.coin-cp.active { color: #ff8a65; border-color: #ff8a65; }

/* Стандартна модалка (Stats) */
.modal-content:not(.calculator-theme) { background: #1a120b; border: 2px solid #835F0A; width: 350px; padding: 20px; border-radius: 8px; box-shadow: 0 0 30px #000; }
.modal-header { display: flex; justify-content: space-between; border-bottom: 1px solid #5e3a03; padding-bottom: 10px; margin-bottom: 20px; }
.modal-body { display: flex; gap: 20px; margin-bottom: 20px; }
.modal-field { flex: 1; display: flex; flex-direction: column; gap: 5px; }
.modal-input { width: 100%; background: #000; border: 1px solid #5e3a03; color: #fff; padding: 8px; font-size: 22px; text-align: center; border-radius: 4px; }
.save-btn { width: 100%; background: #835F0A; border: none; padding: 12px; color: #fff; font-family: "Jaini"; font-size: 22px; cursor: pointer; border-radius: 4px; transition: 0.2s; }
.save-btn:hover { background: #a07410; }